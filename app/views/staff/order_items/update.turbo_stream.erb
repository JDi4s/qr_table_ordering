<%= turbo_stream.replace dom_id(@order_item) do %>
  <tr id="<%= dom_id(@order_item) %>">
    <td><%= @order_item.menu_item.name %></td>
    <td><%= @order_item.quantity %></td>
    <td><%= @order_item.status %></td>
    <td><%= @order_item.denial_reason %></td>
    <td style="min-width: 320px;">
      <% if @order_item.pending? %>
        <%= button_to "Accept item",
              staff_order_item_path(@order_item, status: "accepted"),
              method: :patch,
              form: { data: { turbo: true } } %>

        <%= form_with url: staff_order_item_path(@order_item), method: :patch, data: { turbo: true } do %>
          <%= hidden_field_tag :status, "denied" %>
          <%= text_field_tag :denial_reason, "", placeholder: "Reason", style: "width: 180px;" %>
          <%= submit_tag "Deny item" %>
        <% end %>
      <% else %>
        <em>No actions</em>
      <% end %>
    </td>
  </tr>
<% end %>
